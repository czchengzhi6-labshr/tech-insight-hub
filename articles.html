<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Articles</title>
    <style>
        body { font-family: Arial, sans-serif; background:#f4f4f4; margin:0; padding:0; }
        .container { width:90%; max-width:900px; margin:40px auto; background:white; padding:25px; border-radius:10px; }
        h1 { color:#333; margin-bottom:10px;}
        input {
            width:100%;
            padding:12px;
            font-size:16px;
            margin:15px 0;
            border:1px solid #aaa;
            border-radius:8px;
        }
        ul { padding-left:20px; }
        li { margin:12px 0; font-size:18px;}
        a { color:#1a73e8; }
    </style>
</head>
<body>

<div class="container">
    <h1>Articles</h1>

    <!-- ðŸ” æœç´¢æ¡† -->
    <input type="text" id="searchBox" placeholder="Search articles...">

    <ul id="article-list"></ul>
</div>

<script>
    // GitHub ç”¨æˆ·åå’Œä»“åº“å â€”â€” ä½ åªéœ€è¦æ”¹è¿™é‡Œï¼ˆå¦‚æžœè¦æ”¹çš„è¯ï¼‰
    const username = "czchengzhi6";
    const repo = "tech-insight-hub";

    let allArticles = [];  // ç”¨äºŽæœç´¢è¿‡æ»¤

    // ä»Ž GitHub API è‡ªåŠ¨èŽ·å–æ–‡ç« åˆ—è¡¨
    fetch(`https://api.github.com/repos/${username}/${repo}/contents`)
        .then(res => res.json())
        .then(files => {
            files.forEach(file => {
                if (file.name.endsWith(".html") &&
                    !["index.html","about.html","contact.html","privacy.html","terms.html","articles.html"].includes(file.name)) {

                    const title = file.name
                        .replace(".html", "")
                        .replace(/-/g, " ")
                        .replace(/\b\w/g, c => c.toUpperCase());

                    allArticles.push({ title, filename: file.name });
                }
            });

            renderList(allArticles);
        });

    // æ¸²æŸ“åˆ—è¡¨
    function renderList(list) {
        const ul = document.getElementById("article-list");
        ul.innerHTML = "";

        if (list.length === 0) {
            ul.innerHTML = "<li>No articles found.</li>";
            return;
        }

        list.forEach(article => {
            ul.innerHTML += `<li><a href="${article.filename}">${article.title}</a></li>`;
        });
    }

    // æœç´¢åŠŸèƒ½ï¼ˆå®žæ—¶è¿‡æ»¤ï¼‰
    document.getElementById("searchBox").addEventListener("input", function() {
        const keyword = this.value.toLowerCase();

        const filtered = allArticles.filter(a =>
            a.title.toLowerCase().includes(keyword)
        );

        renderList(filtered);
    });
</script>

</body>
</html>
